{% extends "base.html" %}
{% block title %}Add Customer{% endblock %}
{% block content %}
    <h2>Add Customer</h2>
    <form method="post" id="customer-form">
        <label>Customer Type:</label>
        <select name="customer_type" id="customer-type" required onchange="toggleFields()">
            <option value="company">Company (NIP required)</option>
            <option value="individual">Individual / Farmer (no NIP)</option>
        </select><br><br>

        <div id="company-fields">
            <label>Company Name:</label>
            <input type="text" name="company_name"><br>
            <label>NIP:</label>
            <input type="text" name="nip"><br>
        </div>

        <div id="individual-fields" style="display:none;">
            <label>First Name:</label>
            <input type="text" name="first_name"><br>
            <label>Last Name:</label>
            <input type="text" name="last_name"><br>
        </div>

        <label>Address:</label>
        <input type="text" name="address" required><br>
        <label>Email:</label>
        <input type="email" name="email"><br>
        <input type="submit" value="Add Customer">
    </form>
    <a href="{{ url_for('customer_list') }}">Back to list</a>

    <script>
    function toggleFields() {
        var type = document.getElementById('customer-type').value;
        document.getElementById('company-fields').style.display = type === 'company' ? '' : 'none';
        document.getElementById('individual-fields').style.display = type === 'individual' ? '' : 'none';
    }
    </script>
{% endblock %}